// ุจูุงูุงุช ุงูููุชุฌ
const productData = {
    fullDesc: `FIFA 16 Mod 25 ูู ุชุฌุฑุจุฉ "ููุณุชุงูุฌูุง ูุทููุฑุฉ" ุจุงูุชูุงุฒ ๐ฎ
ูุนูู ููุณ ุฃุณุงุณ FIFA 16 ุงููุญุจูุจ (ุงููููุจูุงู ุงูุณูุณ ูุงูุชุญูู ุงูููุชุน)ุ ููู ุจุฑูุญ ููุณู 2024โ2025.

<strong>ูุด ุงููู ูููุงุ ุฎููู ูุนู:</strong>

โฝ <strong>ุชุญุฏูุซ ูุงูู ูููุฑู ูุงูุงูุชูุงูุงุช:</strong> ุชุดูููุงุช ุญุฏูุซุฉุ ูุฌูู ุฌุฏุฏุ ููุฑู ุทุงูุนุฉ ุจููุฉ.

๐ <strong>ุฃุทูู ูุดุนุงุฑุงุช ูุญุฏุซุฉ:</strong> ูุฃูู ุชูุนุจ ุฅุตุฏุงุฑ ุฌุฏูุฏุ ุจุณ ุนูู ูุญุฑู ูุฏูู ูุนุฑู ุดุบูู.

๐๏ธ <strong>ููุงุนุจ ูุฌุฑุงูููุณ ูุญุณููุฉ:</strong> ุฅุถุงุกุฉ ูุฒูุงูุง ุฃูุถูุ ุจุฏูู ูุง ูุซูู ุนูู ุฌูุงุฒู.

๐ฎ <strong>ูููุจูุงู ููุงุณูู:</strong> ูุง ููุณูุฉ ุฒุงูุฏุฉ ููุง ุฏุฑุงูุงโูุนุจ ูุจุงุดุฑุ ููุชุนุ ู"ูุญุณูุณ".

๐ฅ๏ธ <strong>ุฎูููุฉ ุนูู ุงูุฃุฌูุฒุฉ:</strong> ูุซุงููุฉ ูู ุฌูุงุฒู ูุชูุณุท ุฃู ูุฏูู ูุชุจู ูุชุนุฉ ุจุฏูู ุตุฏุงุน.

<strong>ูุชุทูุจุงุช ุงููุธุงู:</strong>
โข ูุธุงู ุงูุชุดุบูู: Windows 7/8/10/11 (64-bit)
โข ุงููุนุงูุฌ: Intel Core i3 ุฃู ุฃุนูู
โข ุงูุฐุงูุฑุฉ: 4GB RAM ุนูู ุงูุฃูู
โข ูุงุฑุช ุงูุดุงุดุฉ: 1GB VRAM ุนูู ุงูุฃูู
โข ุงููุณุงุญุฉ ุงููุทููุจุฉ: 15GB ูุณุงุญุฉ ุญุฑุฉ

<strong>ุทุฑููุฉ ุงูุชุซุจูุช:</strong>
1. ูู ุจุชุญููู ุฌููุน ุงููููุงุช ุงููุทููุจุฉ
2. ูู ุถุบุท ููู Data ุงูุฑุฆูุณู
3. ุชุซุจูุช ููู APK ุนูู ุฃูุฏุฑููุฏ (ููููุจุงูู)
4. ูุณุฎ ููู OBB ุฅูู ุงููุณุงุฑ ุงููุทููุจ
5. ุชุดุบูู ุงููุนุจุฉ ูุงูุงุณุชูุชุงุน!

<strong>ุงูุฎูุงุตุฉ ุงูุตุฑูุญุฉ:</strong>
ูู ุชุญูู ูุฃูุงู FIFA 16 ูุชุจููุง ุจููุงุจุณ 2025ุ ููุฐุง ุงูููุฏ ุฎูุงุฑ ุฐูู. ูุฏูู ุจุงูููุจุ ุญุฏูุซ ุจุงูุดููโุชูุงุฒู ูุงุฏุฑ ูุงูุฃูุงู. ูู ุฑุณููุ ุตุญูุญ. ุจุณ ุงููุชุนุฉุ ููุฌูุฏุฉ ูุจููุฉ.`,
    
    features: [
        { title: "ูููุจูุงู ุณูุณ", description: "ููุณ ุชุฌุฑุจุฉ FIFA 16 ุงูููุงุณูููุฉ ุงููุงุนูุฉ ูุงูููุชุนุฉ ูู ุงูุชุญูู ูุงููุนุจ" },
        { title: "ุชุญุฏูุซุงุช ุงูููุณู", description: "ุฌููุน ุงููุฑู ูุงูุงูุชูุงูุงุช ูุงูุตููุงุช ูุญุฏุซุฉ ูููุณู 2024-2025" },
        { title: "ุฌุฑุงูููุณ ูุญุณูู", description: "ููุงุนุจ ูุฅุถุงุกุงุช ูุญุณูุฉ ูุน ุงูุญูุงุธ ุนูู ุฃุฏุงุก ูุฑุชูุน ุนูู ุงูุฃุฌูุฒุฉ ุงููุชูุณุทุฉ" },
        { title: "ุฎูููุฉ ุนูู ุงููุธุงู", description: "ูุตููุฉ ููุนูู ุจุณูุงุณุฉ ุญุชู ุนูู ุงูุฃุฌูุฒุฉ ุฐุงุช ุงูููุงุตูุงุช ุงููุชูุณุทุฉ" },
        { title: "ุฏุนู ุฃูุฏุฑููุฏ", description: "ูุชูุงููุฉ ูุน ุฃูุฏุฑููุฏ 13 ูุงูุฃุญุฏุซุ ุณููุฉ ุงูุชุซุจูุช ุนูู ุงูููุจุงูู" },
        { title: "ุชุญุฏูุซุงุช ุฏูุฑูุฉ", description: "ุชุญุฏูุซุงุช ูุณุชูุฑุฉ ูููุฑู ูุงูุดุนุงุฑุงุช ูุงูุฃุทูู ุทูุงู ุงูููุณู" }
    ],
    
    screenshots: [
        "https://f.top4top.io/p_36393n6sy0.jpg",
        "https://g.top4top.io/p_363970hgh1.jpg",
        "https://h.top4top.io/p_3639kui6e2.jpg",
        "https://i.top4top.io/p_3639xc59a3.jpg",
        "https://j.top4top.io/p_3639jx5po4.jpg",
        "https://k.top4top.io/p_3639kikfe5.jpg"
    ],
    
    downloads: [
        {
            id: "data",
            title: "ููู ุงูุจูุงูุงุช ุงูุฑุฆูุณู (Data)",
            description: "ููู ุงููุนุจุฉ ุงูุฑุฆูุณู ูุญุชูู ุนูู ุฌููุน ุงููููุงุช ุงูุฃุณุงุณูุฉ",
            size: "6.5 GB",
            url: "https://www.mediafire.com/file/jacypmkv0zbteff/EAFC+25.zip/file",
            color: "#1a6fb4",
            icon: "fas fa-database"
        },
        {
            id: "apk",
            title: "ุชุทุจูู ุงูุฃูุฏุฑููุฏ (APK)",
            description: "ููู ุงูุชุซุจูุช ุงูุฑุฆูุณู ููุนุจุฉ ุนูู ุฃุฌูุฒุฉ ุงูุฃูุฏุฑููุฏ",
            size: "1.2 GB",
            url: "https://www.mediafire.com/file/iq87ar5j5j7sse4/FIFA+16+APK+ANDROID+13.zip/file",
            color: "#3ddc84",
            icon: "fab fa-android"
        },
        {
            id: "obb",
            title: "ููู ุงูุจูุงูุงุช ุงูุฅุถุงูู (OBB)",
            description: "ููู ุงูุจูุงูุงุช ุงูุฅุถุงูู ุงููุทููุจ ูุชุดุบูู ุงููุนุจุฉ ุนูู ุงูุฃูุฏุฑููุฏ",
            size: "0.3 GB",
            url: "https://www.mediafire.com/file/iq87ar5j5j7sse4/FIFA+16+APK+ANDROID+13.zip/file",
            color: "#ff9800",
            icon: "fas fa-file-archive"
        }
    ]
};

// ุญุงูุฉ ุงูุชุทุจูู
let downloadCount = 15327;
let detailsOpen = false;

// ุชููุฆุฉ ุงูุชุทุจูู
function init() {
    loadData();
    setupEventListeners();
    renderDetailsContent();
    setupAnimations();
}

// ุชุญููู ุงูุจูุงูุงุช ุงููุญููุธุฉ
function loadData() {
    try {
        const saved = localStorage.getItem('narutoCodexData');
        if (saved) {
            const data = JSON.parse(saved);
            downloadCount = data.downloadCount || downloadCount;
            updateDownloadCounter();
        }
    } catch (e) {
        console.log('ูุง ูููู ุชุญููู ุงูุจูุงูุงุช ุงููุญููุธุฉ');
    }
}

// ุญูุธ ุงูุจูุงูุงุช
function saveData() {
    const data = {
        downloadCount: downloadCount,
        lastUpdate: new Date().toISOString()
    };
    localStorage.setItem('narutoCodexData', JSON.stringify(data));
}

// ุฅุนุฏุงุฏ ูุณุชูุนู ุงูุฃุญุฏุงุซ
function setupEventListeners() {
    // ุฒุฑ ุนุฑุถ/ุฅุฎูุงุก ุงูุชูุงุตูู
    const viewMoreBtn = document.getElementById('view-more-btn');
    if (viewMoreBtn) {
        viewMoreBtn.addEventListener('click', toggleDetails);
    }
    
    // ููุน ุงูููุฑ ุงููุฒุฏูุฌ ุนูู ุงูููุงุชู
    let lastClick = 0;
    if (viewMoreBtn) {
        viewMoreBtn.addEventListener('touchstart', function(e) {
            const now = Date.now();
            if (now - lastClick < 500) {
                e.preventDefault();
            }
            lastClick = now;
        });
    }
}

// ุนุฑุถ ูุญุชูู ุงูุชูุงุตูู
function renderDetailsContent() {
    const detailsContent = document.querySelector('.details-content');
    if (!detailsContent) return;
    
    const content = `
        <div class="full-description">
            ${productData.fullDesc.split('\n').map(line => 
                line.trim() === '' ? '<br>' : `<p>${line}</p>`
            ).join('')}
        </div>
        
        <div class="features-grid">
            ${productData.features.map(feature => `
                <div class="feature-item">
                    <h4>${feature.title}</h4>
                    <p>${feature.description}</p>
                </div>
            `).join('')}
        </div>
        
        <div class="screenshots">
            <h3>ููุทุงุช ูู ุงููุนุจุฉ</h3>
            <div class="screenshots-grid">
                ${productData.screenshots.map((screenshot, index) => `
                    <div class="screenshot" data-index="${index}">
                        <img src="${screenshot}" alt="ููุทุฉ ${index + 1}" loading="lazy">
                    </div>
                `).join('')}
            </div>
        </div>
        
        <div class="download-section">
            <h3>ุฑูุงุจุท ุงูุชุญููู</h3>
            <p class="download-instructions">ุชุญุชุงุฌ ูุชุญููู ุฌููุน ุงููููุงุช ุงูุชุงููุฉ ูุชุดุบูู ุงููุนุจุฉ ุจุดูู ุตุญูุญ:</p>
            
            <div class="download-options">
                ${productData.downloads.map(item => `
                    <div class="download-option" data-id="${item.id}">
                        <div class="download-icon" style="background-color: ${item.color}">
                            <i class="${item.icon}"></i>
                        </div>
                        <div class="download-info">
                            <h4>${item.title}</h4>
                            <p>${item.description}</p>
                            <div class="download-meta">
                                <span class="file-size"><i class="fas fa-weight-hanging"></i> ${item.size}</span>
                                <span class="file-type"><i class="fas fa-file"></i> ููู ZIP</span>
                            </div>
                        </div>
                        <button class="download-option-btn" style="background-color: ${item.color}">
                            <i class="fas fa-download"></i>
                            ุชุญููู
                        </button>
                    </div>
                `).join('')}
            </div>
            
            <button class="download-all-btn" id="download-all-btn">
                <i class="fas fa-download"></i>
                ุชุญููู ุฌููุน ุงููููุงุช ูุฑุฉ ูุงุญุฏุฉ
            </button>
            
            <div class="total-size">
                <i class="fas fa-calculator"></i>
                ุงูุญุฌู ุงูุฅุฌูุงูู: <strong>8 GB</strong>
            </div>
        </div>
    `;
    
    detailsContent.innerHTML = content;
    
    // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ ูููุญุชูู ุงูุฏููุงูููู
    setTimeout(() => {
        setupDynamicEventListeners();
    }, 100);
}

// ุฅุนุฏุงุฏ ูุณุชูุนู ุงูุฃุญุฏุงุซ ูููุญุชูู ุงูุฏููุงูููู
function setupDynamicEventListeners() {
    // ุฃุฒุฑุงุฑ ุงูุชุญููู ุงููุฑุฏูุฉ
    document.querySelectorAll('.download-option-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const fileId = this.closest('.download-option').dataset.id;
            downloadFile(fileId);
        });
    });
    
    // ุฒุฑ ุชุญููู ุงููู
    const downloadAllBtn = document.getElementById('download-all-btn');
    if (downloadAllBtn) {
        downloadAllBtn.addEventListener('click', downloadAllFiles);
    }
    
    // ููุทุงุช ุงูุดุงุดุฉ
    document.querySelectorAll('.screenshot').forEach(screenshot => {
        screenshot.addEventListener('click', function() {
            const index = parseInt(this.dataset.index);
            openScreenshot(index);
        });
    });
}

// ุฅุนุฏุงุฏ ุงูุฃููููุดู
function setupAnimations() {
    const productCard = document.getElementById('product-card');
    if (!productCard) return;
    
    // ุฅุธูุงุฑ ุงูุจุทุงูุฉ ุนูุฏ ุงูุชุญููู
    productCard.style.opacity = '0';
    productCard.style.transform = 'translateY(30px)';
    
    setTimeout(() => {
        productCard.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
        productCard.style.opacity = '1';
        productCard.style.transform = 'translateY(0)';
    }, 300);
}

// ุชุจุฏูู ุนุฑุถ ุงูุชูุงุตูู (ุฅุตูุงุญ ุงููุดููุฉ ุงูุฑุฆูุณูุฉ)
function toggleDetails() {
    const detailsElement = document.getElementById('product-details');
    const button = document.getElementById('view-more-btn');
    const icon = document.getElementById('details-icon');
    const btnText = document.getElementById('btn-text');
    
    detailsOpen = !detailsOpen;
    
    if (detailsOpen) {
        // ูุชุญ ุงูุชูุงุตูู
        detailsElement.classList.add('active');
        icon.className = 'fas fa-chevron-up';
        btnText.textContent = 'ุฅุฎูุงุก ุงูุชูุงุตูู';
        
        // ุชูุฑูุฑ ุณูุณ ููุชูุงุตูู (ุนูู ุงูููุจููุชุฑ ููุท)
        if (window.innerWidth > 768) {
            setTimeout(() => {
                detailsElement.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }, 300);
        }
    } else {
        // ุฅุบูุงู ุงูุชูุงุตูู
        detailsElement.classList.remove('active');
        icon.className = 'fas fa-chevron-down';
        btnText.textContent = 'ุนุฑุถ ุงูุชูุงุตูู ุงููุงููุฉ';
    }
}

// ุชุญููู ููู ูุนูู
function downloadFile(fileId) {
    const file = productData.downloads.find(d => d.id === fileId);
    if (!file) return;
    
    const btn = document.querySelector(`.download-option[data-id="${fileId}"] .download-option-btn`);
    if (!btn) return;
    
    const originalHTML = btn.innerHTML;
    
    // ุชุบููุฑ ุญุงูุฉ ุงูุฒุฑ
    btn.innerHTML = '<i class="fas fa-spinner loading"></i> ุฌุงุฑู ุงูุชุญููู...';
    btn.disabled = true;
    btn.style.opacity = '0.7';
    
    // ูุญุงูุงุฉ ุงูุชุญููู
    setTimeout(() => {
        window.open(file.url, '_blank');
        trackDownload(file.title);
        
        // ุงุณุชุนุงุฏุฉ ุงูุฒุฑ ุจุนุฏ ุซุงููุชูู
        setTimeout(() => {
            btn.innerHTML = originalHTML;
            btn.disabled = false;
            btn.style.opacity = '1';
            showSuccessMessage(`ุชู ุจุฏุก ุชุญููู "${file.title}"`);
        }, 2000);
    }, 1000);
}

// ุชุญููู ุฌููุน ุงููููุงุช
function downloadAllFiles() {
    if (!confirm('ูู ุชุฑูุฏ ุชุญููู ุฌููุน ุงููููุงุชุ ูุฏ ูุณุชุบุฑู ูุฐุง ุจุนุถ ุงูููุช.')) return;
    
    let delay = 0;
    productData.downloads.forEach(file => {
        setTimeout(() => {
            window.open(file.url, '_blank');
            trackDownload(file.title);
        }, delay);
        delay += 1000; // ุซุงููุฉ ุจูู ูู ููู
    });
    
    trackDownload('ุฌููุน ุงููููุงุช');
    showSuccessMessage('ุจุฏุฃ ุชุญููู ุฌููุน ุงููููุงุช');
}

// ูุชุญ ููุทุฉ ุดุงุดุฉ
function openScreenshot(index) {
    if (index >= 0 && index < productData.screenshots.length) {
        window.open(productData.screenshots[index], '_blank');
    }
}

// ุชุชุจุน ุงูุชูุฒููุงุช
function trackDownload(fileName) {
    downloadCount++;
    updateDownloadCounter();
    saveData();
    console.log(`ุชุญููู: ${fileName} - ุงูุฅุฌูุงูู: ${downloadCount}`);
}

// ุชุญุฏูุซ ุนุฏุงุฏ ุงูุชูุฒููุงุช
function updateDownloadCounter() {
    const counter = document.getElementById('download-count');
    if (counter) {
        counter.textContent = downloadCount.toLocaleString('ar-SA');
    }
}

// ุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ
function showSuccessMessage(text) {
    // ุฅุฒุงูุฉ ุฃู ุฑุณุงูุฉ ุณุงุจูุฉ
    const oldMessage = document.querySelector('.success-message');
    if (oldMessage) {
        oldMessage.remove();
    }
    
    // ุฅูุดุงุก ุงูุฑุณุงูุฉ ุงูุฌุฏูุฏุฉ
    const message = document.createElement('div');
    message.className = 'success-message';
    message.innerHTML = `
        <i class="fas fa-check-circle"></i>
        <span>${text}</span>
        <button class="close-btn"><i class="fas fa-times"></i></button>
    `;
    
    // ุฒุฑ ุงูุฅุบูุงู
    const closeBtn = message.querySelector('.close-btn');
    closeBtn.addEventListener('click', () => {
        message.style.opacity = '0';
        message.style.transform = 'translateX(-50%) translateY(-100%)';
        setTimeout(() => message.remove(), 300);
    });
    
    document.body.appendChild(message);
    
    // ุฅุฒุงูุฉ ุชููุงุฆูุฉ ุจุนุฏ 5 ุซูุงู
    setTimeout(() => {
        if (message.parentElement) {
            message.style.opacity = '0';
            message.style.transform = 'translateX(-50%) translateY(-100%)';
            setTimeout(() => message.remove(), 300);
        }
    }, 5000);
}

// ููุน ุงููุดุงูู ุนูู ุงูููุงุชู
function preventMobileIssues() {
    // ููุน ุงูุชูุจูุฑ ุนูุฏ ุงูููุฑ ุงููุฒุฏูุฌ
    let lastTouchEnd = 0;
    document.addEventListener('touchend', function(event) {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
            event.preventDefault();
        }
        lastTouchEnd = now;
    }, false);
    
    // ููุน ุณููู ุงูุณุญุจ ุนูู ุงูููุงุชู
    document.addEventListener('touchmove', function(e) {
        if (e.target.tagName === 'BUTTON') {
            e.preventDefault();
        }
    }, { passive: false });
}

// ุชุดุบูู ุงูุชุทุจูู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
document.addEventListener('DOMContentLoaded', function() {
    init();
    preventMobileIssues();
});

// ุฅุถุงูุฉ ุฏุนู ููุงุฌูุฉ ุงููุณุชุฎุฏู
window.addEventListener('resize', function() {
    // ุฅุนุงุฏุฉ ุญุณุงุจ ุงูุฃุดูุงุก ุนูุฏ ุชุบููุฑ ุญุฌู ุงูุดุงุดุฉ
    if (window.innerWidth <= 768 && detailsOpen) {
        // ุนูู ุงูููุงุชูุ ูุง ูุณุชุฎุฏู scrollIntoView ุนูุฏ ุงููุชุญ
        const viewMoreBtn = document.getElementById('view-more-btn');
        if (viewMoreBtn) {
            viewMoreBtn.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    }
});

// ุฌุนู ุงูุฏูุงู ูุชุงุญุฉ ุนุงูููุงู ููุชุตุญูุญ
window.narutoCodex = {
    toggleDetails,
    downloadFile,
    downloadAllFiles,
    trackDownload,
    showSuccessMessage
};
